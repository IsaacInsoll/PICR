# =============================================================================
# PICR Environment Configuration
# =============================================================================
# Copy this file to .env and customize for your environment.
# Lines starting with # are comments. Uncomment and modify as needed.
#
# For Docker deployments, these are set via docker-compose.yml environment.
# =============================================================================

# -----------------------------------------------------------------------------
# REQUIRED VARIABLES
# -----------------------------------------------------------------------------

# PostgreSQL connection string
# Format: postgres://USER:PASSWORD@HOST:PORT/DATABASE
# For Docker: postgres://user:pass@db/picr (use service name, not localhost)
# For local dev: postgres://user:pass@localhost:54321/picr
DATABASE_URL=postgres://user:pass@localhost:54321/picr

# Base URL of the server (MUST end with /)
# Used for generating social sharing links (OpenGraph), email notifications, etc.
# For local dev: http://localhost:6900/
# For production: https://photos.yourdomain.com/
BASE_URL=http://localhost:6900/

# -----------------------------------------------------------------------------
# SERVER CONFIGURATION
# -----------------------------------------------------------------------------

# Server port (default: 6900)
# The port the Express server listens on inside the container/process
# PORT=6900

# Node environment (default: production)
# Options: development, test, production
# - development: Enables debug features, auto-migration
# - test: Used by test suite
# - production: Optimized for deployment
NODE_ENV=development

# -----------------------------------------------------------------------------
# FILE WATCHING
# -----------------------------------------------------------------------------

# Enable polling mode for file watcher (default: false)
# Set to true for Docker, NAS, or network drives where inotify doesn't work
# Native file watching is more efficient but doesn't work in all environments
USE_POLLING=true

# Polling interval multiplier (default: 20)
# Actual interval = POLLING_INTERVAL * 100ms
# Higher values reduce CPU usage but increase detection latency
# 20 = 2 second polling interval
POLLING_INTERVAL=20

# -----------------------------------------------------------------------------
# SECURITY
# -----------------------------------------------------------------------------

# JWT token secret (optional, auto-generated if not set)
# If provided, must be at least 64 characters
# The server will auto-generate and store this in the database on first boot
# Only set this if you need to use a specific secret (e.g., for testing)
# TOKEN_SECRET=your-very-long-secret-key-at-least-64-characters-for-security

# -----------------------------------------------------------------------------
# DEBUGGING & LOGGING
# -----------------------------------------------------------------------------

# Enable SQL query logging (default: false)
# Logs all Drizzle ORM queries - useful for debugging, very verbose
# DEBUG_SQL=true

# Enable console logging (default: false)
# By default, logs go to cache/error.log and cache/info.log
# Enable this to also output to console (useful for Docker logs)
CONSOLE_LOGGING=true

# -----------------------------------------------------------------------------
# ADVANCED / RARELY NEEDED
# -----------------------------------------------------------------------------

# Enable file write operations (default: auto-detected)
# This allows you to move/rename/copy files and folders.
# The server tests write access to the media folder on startup so you need both (a) CAN_WRITE=true and (b) actual write access to '/media` path for this to be useful
# CAN_WRITE=true
